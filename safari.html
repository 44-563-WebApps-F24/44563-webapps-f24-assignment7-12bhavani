<!DOCTYPE html>
<html>
    <head>
        <title>Safari Day</title>
        <style>
        .flex-container {
              display: flex;  flex-direction:row;
              background-color: violet;
          }
        
        .flex-container > div {  /*div children of the flex container*/
          background-color: lavender; 
          margin: 10px;  padding: 20px;  font-size: 30px;
        }
        
        /* Responsive layout */
        @media (max-width: 600px) { 
             .flex-container{
                 flex-direction:column;
                 background-color: green;
              }
            }
        </style>
    </head>
    <body>
        <h1>Bhavani Kongari goes on safair</h1>
        <p style="color:Red;" >Click on the locations to find rare 
            animals, watch out for the lion</p>
            <p id="locations" style="background-color: cadetblue;">Number of locations checked is zero.</p>
            <p id="score" style="background-color: cadetblue;">Score is zero.</p>
            <p style="color:deeppink; background-color: lavender;" onclick="help()">Click for help.</p>
            <p id="help" style="background-color: cadetblue;">Help report</p>
            
        <div class="flex-container">
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img1" onclick="check(0)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img2" onclick="check(1)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img3" onclick="check(2)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img4" onclick="check(3)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img5" onclick="check(4)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img6" onclick="check(5)"></div>
        </div>
        <div class="flex-container">
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img7" onclick="check(6)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img8" onclick="check(7)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img9" onclick="check(8)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img10" onclick="check(9)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img11" onclick="check(10)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img12" onclick="check(11)"></div>
        </div>
        <div class="flex-container">
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img13" onclick="check(12)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img14" onclick="check(13)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img15" onclick="check(14)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img16" onclick="check(15)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img17" onclick="check(16)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img18" onclick="check(17)"></div>
        </div>
        <div class="flex-container">
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img19" onclick="check(18)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img20" onclick="check(19)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img21" onclick="check(20)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img22" onclick="check(21)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img23" onclick="check(22)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img24" onclick="check(23)"></div>
        </div>
        <div class="flex-container">
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img25" onclick="check(24)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img26" onclick="check(25)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img27" onclick="check(26)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img28" onclick="check(27)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img29" onclick="check(28)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img30" onclick="check(29)"></div>
        </div>
        <div class="flex-container">
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img31" onclick="check(30)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img32" onclick="check(31)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img33" onclick="check(32)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img34" onclick="check(33)"></div> 
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img35" onclick="check(34)"></div>
           <div><img src="tree.jpg" alt="Tree" width="150" height="150" id="img36" onclick="check(35)"></div>
        </div>


        <script>
            ids = ["img1","img2","img3","img4","img5","img6","img7","img8","img9",
            "img10","img11","img12","img13","img14","img15","img16","img17","img18","img19","img20",
            "img21","img22","img23","img24","img25","img26","img27","img28","img29","img30","img31","img32",
            "img33","img34","img35","img36"];
            score = 0;
            locationsVisited = 0;
            lastLocation = 0;
            zebraLocations =  [1, 8, 12, 22, 34];
            lionLocation = 14;
            gameOver = false;

            /*let lionLocation = Math.floor(Math.random() * 36);
            let zebraLocations = [];
            while (zebraLocations.length < 5) {
                let randomLoc = Math.floor(Math.random() * 36);
                if (randomLoc !== lionLocation && !zebraLocations.includes(randomLoc)) {
                    zebraLocations.push(randomLoc);
                }
            }

            function check(position){
                if(!gameOver){
                    id = ids[position];
                    img_ele = document.getElementById(id);
                    if(position ==lionLocation){
                        img_ele.src = "lion.jpg";
                        gameOver = true;
                        score -= 2;
                    }
                    else if(zebraLocations.includes(position)){
                        img_ele.src = "zebra.jpg"
                        score += 4;
                    }
                    else{
                        img_ele.src = "elephant.jpg"
                        score += 1;
                    }
                    locationsVisited += 1;
                    lastLocation = position;
                    document.getElementById("locations").innerHTML="Number of locations checked is "+ locationsVisited;
                    document.getElementById("score").innerHTML="Score is "+ score;
                    moveLion();
                }
            }

            function moveLion() {
                let direction = Math.floor(Math.random() * 4);
                let newLocation = lionLocation;
                const rows = 6;
                const cols = 6;

                if (direction === 0 && lionLocation % cols !== 0) {
                    newLocation -= 1;
                } else if (direction === 1 && (lionLocation + 1) % cols !== 0) {
                    newLocation += 1;
                } else if (direction === 2 && lionLocation >= cols) {
                    newLocation -= cols;
                } else if (direction === 3 && lionLocation < (rows - 1) * cols) {
                    newLocation += cols;
                }

                if (!zebraLocations.includes(newLocation) && newLocation !== playerLocation) {
                    lionLocation = newLocation;

                    if (zebraLocations.includes(lionLocation)) {
                        zebraLocations = zebraLocations.filter(loc => loc !== lionLocation);
                        document.getElementById(ids[lionLocation]).src = "lion.jpg";
                    } else {
                        document.getElementById(ids[lionLocation]).src = "lion.jpg";
                    }

                    if (lionLocation === playerLocation) {
                        gameOver = true;
                    }
                    } else {
                        moveLion();
                }
            }*/

            function check(position){
                if(!gameOver){
                    id = ids[position];
                    img_ele = document.getElementById(id);
                    if(position ==lionLocation){
                        img_ele.src = "lion.jpg";
                        gameOver = true;
                        score -= 2;
                    }
                    else if(zebraLocations.includes(position)){
                        img_ele.src = "zebra.jpg"
                        score += 4;
                    }
                    else{
                        img_ele.src = "elephant.jpg"
                        score += 1;
                    }
                    locationsVisited += 1;
                    lastLocation = position;
                    document.getElementById("locations").innerHTML="Number of locations checked is "+ locationsVisited;
                    document.getElementById("score").innerHTML="Score is "+ score;
                }
            }

            function help(){
                row = Math.floor(lastLocation / 6);
                col = lastLocation % 6;
                lion_row = Math.floor(lionLocation / 6);
                lion_col = lionLocation % 6;

                closestLocations = [(lastLocation - 1 + 36) % 36, (lastLocation + 1) % 36, (lastLocation - 6 + 36) % 36, (lastLocation + 6) % 36];

                for (loc of closestLocations) {
                if (Math.abs(lion_row - row) <= 1 && Math.abs(lion_col - col) <= 1){
                    result = "rawr";
                    break;
                    }

                
                else if (zebraLocations.includes(loc)) {
                    result = "I see stripes";
                    break;
                    }
                
                
                else{
                    result = "Its gray";
                    }

                }
                document.getElementById("help").innerHTML=result;
            }
        </script>
        
    </body>
</html>